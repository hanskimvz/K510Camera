/*
* jALDropDown version 1.0.1
* Copyright 2010, Assign Labs
* licensed under the GPL licenses.
* Released under the GPL Licenses.
* Date: Fri May 28 16:11:00
*/
$.fn.jALDropdown=function(prmJson){try{var memberData={containerId:$(this).attr("id"),json_Extend:"",currentObj:this,customitem:"item-value",customhover:"item-value-active"};var jsonExtend=$.extend({},{Structure:{}},prmJson);var UserEventHandlers=null;var memberFunctions={container_on_KeyDown:function(e){try{var targetDt=$(this).find("dt[hover=1]");var isFirst=false;var liColl=$(this).find("dt");if($("#PnlListWrap"+memberData.containerId).hasClass("ui-helper-hidden-accessible")){targetDt=$(this).find("dt[itemval="+$(this).attr("itemval")+"]")}else{if(targetDt.length===0){targetDt=$(this).find("dt[itemval="+$(this).attr("itemval")+"]");if(targetDt.length===0){isFirst=true;targetDt=$(this).find("dt:eq(0)")}else{targetDt.mouseover()}}}$("#Btn"+memberData.containerId).attr("OnList","false");$("#PnlList"+memberData.containerId).attr("OnList","false");var scrollTop=0;switch(e.which){case 116:return true;case 38:if(liColl.index(targetDt)===0){return false}if($("#PnlListWrap"+memberData.containerId).hasClass("ui-helper-hidden-accessible")==false){targetDt.mouseout();targetDt=targetDt.prev().mouseover();if(targetDt.prev().offset()){scrollTop=(targetDt.prev().offset().top-$("#PnlListWrap"+memberData.containerId).offset().top);if(scrollTop<0){$("#PnlListWrap"+memberData.containerId).attr("scrollTop",($("#PnlListWrap"+memberData.containerId).attr("scrollTop")*1)-Math.abs(scrollTop))}}}else{targetDt.prev().click();if(targetDt.prev().offset()){scrollTop=(targetDt.prev().offset().top-$("#PnlListWrap"+memberData.containerId).offset().top);if(scrollTop<0){$("#PnlListWrap"+memberData.containerId).attr("scrollTop",($("#PnlListWrap"+memberData.containerId).attr("scrollTop")*1)-Math.abs(scrollTop))}}return false}break;case 40:if(liColl.index(targetDt)==liColl.length-1){return false}if($("#PnlListWrap"+memberData.containerId).hasClass("ui-helper-hidden-accessible")==false){targetDt.mouseout();targetDt=targetDt.next().mouseover();if(targetDt.next().offset()){scrollTop=($("#PnlListWrap"+memberData.containerId).height()-52)-(targetDt.next().offset().top-$("#PnlListWrap"+memberData.containerId).offset().top);if(scrollTop<0){$("#PnlListWrap"+memberData.containerId).attr("scrollTop",($("#PnlListWrap"+memberData.containerId).attr("scrollTop")*1)+Math.abs(scrollTop))}}}else{targetDt.next().click();if(targetDt.next().offset()){scrollTop=($("#PnlListWrap"+memberData.containerId).height()-52)-(targetDt.next().offset().top-$("#PnlListWrap"+memberData.containerId).offset().top);if(scrollTop<0){$("#PnlListWrap"+memberData.containerId).attr("scrollTop",($("#PnlListWrap"+memberData.containerId).attr("scrollTop")*1)+Math.abs(scrollTop))}}return false}break;case 13:if($("#PnlListWrap"+memberData.containerId).hasClass("ui-helper-hidden-accessible")==false){targetDt.click();return false}else{return true}break;case 9:if($("#PnlListWrap"+memberData.containerId).hasClass("ui-helper-hidden-accessible")==false){targetDt.click();return true}else{return true}break;default:return false}if($("#PnlListWrap"+memberData.containerId).hasClass("ui-helper-hidden-accessible")){targetDt.click();return false}return false}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in container_on_KeyDown"}])}},showPanel:function(){$("#PnlListWrap"+memberData.containerId).removeClass("ui-helper-hidden-accessible")},hidePanel:function(){$("#PnlListWrap"+memberData.containerId).css("top","");$("#PnlListWrap"+memberData.containerId).css("left","");$("#PnlListWrap"+memberData.containerId).addClass("ui-helper-hidden-accessible")},togglePanel:function(){if($("#PnlListWrap"+memberData.containerId).hasClass("ui-helper-hidden-accessible")==false){memberFunctions.hidePanel()}else{memberFunctions.showPanel()}},showList:function(){try{if(!$("#"+memberData.containerId).attr("disabled")){if($("#PnlListWrap"+memberData.containerId).hasClass("ui-helper-hidden-accessible")==false){memberFunctions.hidePanel();return}else{$("#Btn"+memberData.containerId).attr("OnList","true");var PnlCntnr=$("#PnlCntnr"+memberData.containerId);var divTop=PnlCntnr.position().top;var divHeight=$("#PnlListWrap"+memberData.containerId).height();var divPosition2=(divHeight+20);var divPosition1=document.documentElement.clientHeight-(divTop-document.documentElement.scrollTop);var divLeft=PnlCntnr.position().left;var divWidth=$("#PnlListWrap"+memberData.containerId).width();$("#PnlListWrap"+memberData.containerId).attr("top");if((divPosition1<=divPosition2)&&divTop>divHeight-2){$("#PnlListWrap"+memberData.containerId).css("top",eval(divTop-divHeight-2))}else{$("#PnlListWrap"+memberData.containerId).css("top",eval(divTop+PnlCntnr.height()+2))}if(document.documentElement.clientWidth-(divLeft-document.body.scrollLeft)<=(divWidth+14)){$("#PnlListWrap"+memberData.containerId).css("left",divLeft-(divWidth-$("#"+memberData.containerId).width()))}else{$("#PnlListWrap"+memberData.containerId).css("left",divLeft)}memberFunctions.togglePanel();$("#Btn"+memberData.containerId).focus()}if($("#PnlListWrap"+memberData.containerId).hasClass("ui-helper-hidden-accessible")==false){$("#PnlList"+memberData.containerId).find("dt").filter("[itemval="+$("#"+memberData.containerId).attr("itemval")+"]").mouseover();$("#PnlList"+memberData.containerId).attr("OnList","false")}}}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in showList Method"}])}},pnlFocus:function(){try{if(!$("#"+memberData.containerId).attr("disabled")){if($("#PnlListWrap"+memberData.containerId).hasClass("ui-helper-hidden-accessible")){$("#PnlCntnr"+memberData.containerId).addClass("ui-state-active")}else{$("#PnlCntnr"+memberData.containerId).removeClass("ui-state-active")}}}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in pnlFocus Method"}])}},hideList:function(){try{if($("#PnlList"+memberData.containerId).attr("OnList")=="false"&&$("#TxtDD"+memberData.containerId).attr("onOver")=="false"){$("#Btn"+memberData.containerId).attr("OnList","false")}if($("#Btn"+memberData.containerId).attr("OnList")=="false"){memberFunctions.hidePanel();$("#PnlCntnr"+memberData.containerId).addClass("ui-state-active")}}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in hideList Method"}])}},divMouseOver:function(e){try{if($(e.target).context.nodeName=="DIV"&&($(e.target).attr("type")=="ITEMDIV")){$("#PnlList"+memberData.containerId).attr("OnList","true")}else{if($(e.target).context.nodeName=="DT"&&$(e.target).attr("dtCurrent")=="hide"){$(e.target).parent().find('dt[dtCurrent="hide"]').removeClass("ui-state-hover").removeClass(memberData.customhover).addClass(memberData.customitem).removeAttr("hover");$(e.target).removeClass(memberData.customitem).addClass("ui-state-hover").addClass(memberData.customhover).attr("hover","1");$("#PnlList"+memberData.containerId).attr("OnList","true")}else{if($(e.target).attr("dtCurrent")!="hide"&&$(e.target).attr("id")!="Btn"+memberData.containerId){$("#PnlList"+memberData.containerId).find('dt[dtCurrent="hide"]').removeClass("ui-state-hover").removeClass(memberData.customhover).addClass(memberData.customitem).removeAttr("hover");$(e.target).parents('DT[dtCurrent="hide"]').removeClass(memberData.customitem).addClass("ui-state-hover").addClass(memberData.customhover).attr("hover","1");$("#PnlList"+memberData.containerId).attr("OnList","true")}}}}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in divMouseOver Method"}])}},divMouseLeave:function(e){try{if($(e.target).context.nodeName=="DIV"&&$(e.target).attr("type")=="ITEMDIVWRAP"){$("#PnlList"+memberData.containerId).attr("OnList","false");$("#Btn"+memberData.containerId).focus()}else{$("#PnlList"+memberData.containerId).attr("OnList","false")}}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in divMouseLeave Method"}])}},container_on_Click:function(event){try{var e=e||event;var Idx;if($(e.target).context.nodeName!="DIV"&&$(e.target).attr("dtCurrent")==="hide"){current=$(e.target);Idx=$(this).find("dt").index(current);memberFunctions.setItemValue(memberData.containerId,current.attr("itemval"),current.html());$("#PnlCntnr"+memberData.containerId).trigger("OnChange",[{selectedValue:$(e.target).attr("itemval"),selectedText:$(e.target).html()}]);current.parent().parent().parent().css("top","");current.parent().parent().parent().css("left","");current.parent().parent().parent().addClass("ui-helper-hidden-accessible");$("#Btn"+memberData.containerId).focus()}else{if($(e.target).attr("dtCurrent")!="hide"){current=$(e.target).parents('DT[dtCurrent="hide"]');Idx=$(this).find("dt").index(current);memberFunctions.setItemValue(memberData.containerId,current.attr("itemval"),current.html());$("#PnlCntnr"+memberData.containerId).trigger("OnChange",[{selectedValue:current.attr("itemval"),selectedText:current.html()}]);current.parent().parent().parent().css("top","");current.parent().parent().parent().css("left","");current.parent().parent().parent().addClass("ui-helper-hidden-accessible");$("#Btn"+memberData.containerId).focus()}else{}}}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in container_on_Click Method"}])}},jALDropdown:function(PrmJSON,ObjCurrentObject){try{if(memberFunctions.validate(PrmJSON,ObjCurrentObject)){memberFunctions.changeData(PrmJSON,ObjCurrentObject);memberFunctions.extendEvents(PrmJSON,ObjCurrentObject);memberFunctions.instantiatePlugin(PrmJSON,ObjCurrentObject)}}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in jALDropdown Method"}])}},changeData:function(PrmJSON,ObjCurrentObject){try{memberData.json_Extend=$.extend({},{DataTextField:"text",DataValueField:"value"},PrmJSON)}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in changeData Method"}])}},extendEvents:function(PrmJSON,ObjCurrentObject){try{UserEventHandlers=$.extend({},{OnChange:function(PrmObj,PrmData){return $()}},PrmJSON.EventHandlers);$(ObjCurrentObject).bind("OnChange",UserEventHandlers.OnChange)}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in extendEvents Method"}])}},validate:function(PrmJSON,ObjCurrentObject){try{if(PrmJSON.EventHandlers.OnError!=="undefined"){$(ObjCurrentObject).bind("OnError",PrmJSON.EventHandlers.OnError);if(!PrmJSON.DataTextField){$(ObjCurrentObject).trigger("OnError",[{Message:"Please enter valid DataTextField"}]);return false}else{if(PrmJSON.DataTextField==""){$(ObjCurrentObject).trigger("OnError",[{Message:"Please enter valid DataTextField"}])}else{if(!PrmJSON.DataValueField){$(ObjCurrentObject).trigger("OnError",[{Message:"Please enter valid DataValueField"}])}else{if(PrmJSON.DataValueField==""){$(ObjCurrentObject).trigger("OnError",[{Message:"Please enter valid DataValueField"}])}else{if(!PrmJSON.Data){$(ObjCurrentObject).trigger("OnError",[{Message:"Please enter valid Data"}])}else{if(PrmJSON.Data==""){$(ObjCurrentObject).trigger("OnError",[{Message:"Please enter valid Data"}])}else{return true}}}}}}}else{$(ObjCurrentObject).html("OnError Event not found!")}}catch(Error){$(ObjCurrentObject).trigger("OnError",[{Message:Error.message}])}},instantiatePlugin:function(PrmJSON,ObjCurrentObject){try{memberFunctions.createHtml(PrmJSON,ObjCurrentObject)}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in instantiatePlugin Method"}])}},createHtml:function(PrmJSON,ObjCurrentObject){try{var arrStrHtml=[];arrStrHtml.push('<div DataTextField="'+memberData.json_Extend.DataTextField+'" DataValueField="'+memberData.json_Extend.DataValueField+'" id="PnlCntnr'+memberData.containerId+'" ');if(jsonExtend.Structure.Template&&jsonExtend.Structure.Template!=""){arrStrHtml.push('class="ui-state-active template-control-wrapper"')}else{arrStrHtml.push('class="ui-state-active control-wrapper"')}arrStrHtml.push('style="" >');arrStrHtml.push('<span type="selectedtext" class="innertext"');arrStrHtml.push('id="TxtDD'+memberData.containerId+'">');arrStrHtml.push('</span><button id="Btn'+memberData.containerId+'"');if(jsonExtend.Structure.Template&&jsonExtend.Structure.Template!=""){arrStrHtml.push('type="button" class="ui-state-default ui-template-dropdown-button"><span class="ui-icon ui-icon-triangle-1-s "></span></button></div>')}else{arrStrHtml.push('type="button" class="ui-state-default ui-dropdown-button"><span class="ui-icon ui-icon-triangle-1-s "></span></button></div>')}arrStrHtml.push('<div type="ITEMDIVWRAP" id="PnlListWrap'+memberData.containerId+'" class="item-container" style="padding-right:1px;position:absolute;" ><div  type="ITEMDIV" id="PnlList'+memberData.containerId+'"');arrStrHtml.push('class="ui-widget-content"');arrStrHtml.push('style="margin-right:2px;position:absolute;width:100%;border:none;');arrStrHtml.push('"><dl id="DlList'+memberData.containerId+'">');if(jsonExtend.Structure.Template&&jsonExtend.Structure.Template!=""){$.each(prmJson.Data,function(counter){arrStrHtml.push('<dt class="'+memberData.customitem+'" dtCurrent="hide" itemval="');arrStrHtml.push(prmJson.Data[counter][prmJson.DataValueField]);arrStrHtml.push('" ');if(prmJson.Data[counter].attributes){for(var iloop=0;iloop<prmJson.Data[counter].attributes.length;iloop++){arrStrHtml.push(prmJson.Data[counter].attributes[iloop].name+'="'+prmJson.Data[counter].attributes[iloop].value+'" ')}}arrStrHtml.push(" >");var strTemplate=memberFunctions.createTemplate(jsonExtend.Structure.Template,jsonExtend.Structure.TemplateParams,prmJson.Data,counter);arrStrHtml.push(strTemplate);arrStrHtml.push("</dt>")})}else{$.each(prmJson.Data,function(counter){arrStrHtml.push('<dt class="'+memberData.customitem+'" dtCurrent="hide" itemval="');arrStrHtml.push(prmJson.Data[counter][prmJson.DataValueField]);arrStrHtml.push('" ');if(prmJson.Data[counter].attributes){for(var iloop=0;iloop<prmJson.Data[counter].attributes.length;iloop++){arrStrHtml.push(prmJson.Data[counter].attributes[iloop].name+'="'+prmJson.Data[counter].attributes[iloop].value+'" ')}}arrStrHtml.push(" >");arrStrHtml.push(prmJson.Data[counter][prmJson.DataTextField]);arrStrHtml.push("</dt>")})}arrStrHtml.push("</dl></div></div>");$("#"+memberData.containerId).append(arrStrHtml.join(""));$("#TxtDD"+memberData.containerId).attr("onOver","false");$("#PnlCntnr"+memberData.containerId).data("Template",jsonExtend.Structure.Template);$("#PnlCntnr"+memberData.containerId).data("TemplateParams",jsonExtend.Structure.TemplateParams);var $btnId=$("#Btn"+memberData.containerId);$btnId.bind("click",memberFunctions.showList);$("#PnlListWrap"+memberData.containerId).bind("click",memberFunctions.container_on_Click);$("#PnlListWrap"+memberData.containerId).bind("mouseover",memberFunctions.divMouseOver);$("#PnlListWrap"+memberData.containerId).bind("mouseout",memberFunctions.divMouseLeave);$("#PnlList"+memberData.containerId).scroll(function(){$("#PnlList"+memberData.containerId).attr("OnList","false")});$("#Btn"+memberData.containerId).bind("blur",memberFunctions.hideList);$("#Btn"+memberData.containerId).bind("focus",memberFunctions.pnlFocus);$("#"+memberData.containerId).bind("keydown",memberFunctions.container_on_KeyDown);$("#TxtDD"+memberData.containerId).bind("mouseover",function(){$("#TxtDD"+memberData.containerId).attr("onOver","true")});$("#TxtDD"+memberData.containerId).bind("mouseout",function(){$("#TxtDD"+memberData.containerId).attr("onOver","false")});$("#TxtDD"+memberData.containerId).click(function(){$btnId.click()});if($("#DlList"+memberData.containerId).height()<$("#PnlListWrap"+memberData.containerId).height()){$("#PnlListWrap"+memberData.containerId).css({height:$("#DlList"+memberData.containerId).height()+"px",overflow:"hidden"})}else{$("#PnlListWrap"+memberData.containerId).css({"overflow-y":"scroll"})}memberFunctions.hidePanel();$(window).bind("resize",memberFunctions.hidePanel);if(jsonExtend.Structure.Template&&jsonExtend.Structure.Template!=""){strTemplate=jsonExtend.Structure.Template;for(var y=0;y<jsonExtend.Structure.TemplateParams.length;y++){strTemplate=strTemplate.replace(jsonExtend.Structure.TemplateParams[y].Key,prmJson.Data[0][jsonExtend.Structure.TemplateParams[y].value])}memberFunctions.setItemValue(memberData.containerId,prmJson.Data[0][prmJson.DataValueField],strTemplate)}else{memberFunctions.setItemValue(memberData.containerId,prmJson.Data[0][prmJson.DataValueField],prmJson.Data[0][prmJson.DataTextField])}}catch(Error){$(ObjCurrentObject).trigger("OnError",[{Message:Error.message}])}},createTemplate:function(PrmTemplate,PrmTemplateParams,PrmTemplateData,PrmCounter){try{for(var y=0;y<PrmTemplateParams.length;y++){PrmTemplate=PrmTemplate.replace(PrmTemplateParams[y].Key,PrmTemplateData[PrmCounter][PrmTemplateParams[y].value])}return(PrmTemplate)}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in createTemplate Method"}])}},getValue:function(){try{return $("#"+memberData.containerId).attr("itemval")}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in getValue Method"}])}},getSelectedItem:function(){try{return $("#"+memberData.containerId).find("dt").filter("[itemval="+$("#"+memberData.containerId).attr("itemval")+"]")}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in getSelectedItem Method"}])}},setItemValue:function(PrmControlId,PrmSelectedValue,PrmSelectedText){try{$("#"+PrmControlId).attr("itemval",PrmSelectedValue);$("#TxtDD"+PrmControlId).html(PrmSelectedText);if(jsonExtend.Structure==""){$("#TxtDD"+PrmControlId).attr("title",PrmSelectedText)}$("#"+PrmControlId).attr("itemval",PrmSelectedValue)}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in setItemValue Method"}])}},setDropDownData:function(PrmStrData,PrmObjStructure){var DataTextField=$("#PnlCntnr"+memberData.containerId).attr("DataTextField");var DataValueField=$("#PnlCntnr"+memberData.containerId).attr("DataValueField");var arrStrHtml=[];var Template;var TemplateParams;if(PrmObjStructure.Template&&PrmObjStructure.Template!=""){Template=PrmObjStructure.Template}else{Template=$("#PnlCntnr"+memberData.containerId).data("Template")}if(PrmObjStructure.TemplateParams&&PrmObjStructure.TemplateParams!=""){TemplateParams=PrmObjStructure.TemplateParams}else{TemplateParams=$("#PnlCntnr"+memberData.containerId).data("TemplateParams")}try{if(PrmObjStructure.Template&&PrmObjStructure.Template!=""){$.each(PrmStrData,function(counter){arrStrHtml.push('<dt  class="'+memberData.customitem+'" dtCurrent="hide" itemval="');arrStrHtml.push(PrmStrData[counter][DataValueField]);arrStrHtml.push('" ');if(PrmStrData[counter].attributes){for(var iloop=0;iloop<PrmStrData[counter].attributes.length;iloop++){arrStrHtml.push(PrmStrData[counter].attributes[iloop].name+'="'+PrmStrData[counter].attributes[iloop].value+'" ')}}arrStrHtml.push(" >");var strTemplate=memberFunctions.createTemplate(Template,TemplateParams,PrmStrData,counter);arrStrHtml.push(strTemplate);arrStrHtml.push("</dt>")})}else{$.each(PrmStrData,function(counter){arrStrHtml.push('<dt class="'+memberData.customitem+'" dtCurrent="hide" itemval="');arrStrHtml.push(PrmStrData[counter][DataValueField]);arrStrHtml.push('" ');if(PrmStrData[counter].attributes){for(var iloop=0;iloop<PrmStrData[counter].attributes.length;iloop++){arrStrHtml.push(PrmStrData[counter].attributes[iloop].name+'="'+PrmStrData[counter].attributes[iloop].value+'" ')}}arrStrHtml.push(" >");arrStrHtml.push(PrmStrData[counter][DataTextField]);arrStrHtml.push("</dt>")})}$("#DlList"+memberData.containerId).remove();$("#PnlListWrap"+memberData.containerId).css("height","");$("#DlList"+memberData.containerId).css("height","");$("#PnlList"+memberData.containerId).append('<dl id="DlList'+memberData.containerId+'">'+arrStrHtml.join("")+"</dl>");if($("#DlList"+memberData.containerId).height()<$("#PnlListWrap"+memberData.containerId).height()){$("#PnlListWrap"+memberData.containerId).css({height:$("#DlList"+memberData.containerId).height()+"px",overflow:"hidden"})}else{$("#PnlListWrap"+memberData.containerId).css({"overflow-y":"scroll"})}if(Template&&Template!=""){$("#PnlCntnr"+memberData.containerId).addClass("template-control-wrapper")}else{$("#PnlCntnr"+memberData.containerId).addClass("control-wrapper")}if(Template&&Template!=""){for(var y=0;y<TemplateParams.length;y++){Template=Template.replace(TemplateParams[y].Key,PrmStrData[0][TemplateParams[y].value])}memberFunctions.setItemValue(memberData.containerId,PrmStrData[0][DataValueField],Template)}else{memberFunctions.setItemValue(memberData.containerId,PrmStrData[0][DataValueField],PrmStrData[0][DataTextField])}}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in changeData Method"}])}},setValue:function(value){try{$("#"+memberData.containerId).find("dt").each(function(){if($(this).attr("itemval")==value){memberFunctions.setItemValue(memberData.containerId,value,$(this).html())}});return this}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in setValue Method"}])}},setFirst:function(){try{memberFunctions.setItemValue(memberData.containerId,$("#DlList"+memberData.containerId).find("dt:first").attr("itemval"),$("#DlList"+memberData.containerId).find("dt:first").html())}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in setFirst Method"}])}},setLast:function(){try{memberFunctions.setItemValue(memberData.containerId,$("#DlList"+memberData.containerId).find("dt:last").attr("itemval"),$("#DlList"+memberData.containerId).find("dt:last").html())}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in setLast Method"}])}},controlEnable:function(){try{$("#"+memberData.containerId).css("color","");$("#"+memberData.containerId).removeAttr("disabled");$("#Btn"+memberData.containerId).removeAttr("disabled");$("#Btn"+memberData.containerId).addClass("ui-state-default");$("#Btn"+memberData.containerId).removeClass("ui-state-disabled");$("#TxtDD"+memberData.containerId).removeAttr("disabled")}catch(Error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in controlEnable Method"}])}},controlDisable:function(){try{$("#"+memberData.containerId).css("color","#a2a2a2");$("#"+memberData.containerId).attr("disabled",true);$("#Btn"+memberData.containerId).attr("disabled",true).attr("OnList","false");$("#Btn"+memberData.containerId).removeClass("ui-state-default");$("#Btn"+memberData.containerId).addClass("ui-state-disabled");memberFunctions.hidePanel();$("#TxtDD"+memberData.containerId).attr("disabled",true)}catch(error){$(memberData.currentObj).trigger("OnError",[{Message:"Error in controlDisable Method"}])}}};if(prmJson.Action){var objReturn;var getText;if(prmJson.Action.ActionName){switch(prmJson.Action.ActionName.toLowerCase()){case"getselectedvalue":objReturn=memberFunctions.getValue();break;case"getselecteditem":objReturn=memberFunctions.getSelectedItem();break;case"getselectedtext":getText=memberFunctions.getSelectedItem().text();break;default:objReturn=undefined;break}}if(objReturn){return objReturn}if(getText){return getText}}return this.each(function(){memberData.containerId=$(this).attr("id");if(!prmJson.Action){memberFunctions.jALDropdown(prmJson,this)}else{if(prmJson.Action.ActionName){switch(prmJson.Action.ActionName.toLowerCase()){case"enable":memberFunctions.controlEnable();break;case"disable":memberFunctions.controlDisable();break;case"setvalue:first":memberFunctions.setFirst();break;case"setvalue:last":memberFunctions.setLast();break;case"setvalue":memberFunctions.setValue(prmJson.Action.ActionParams);break;case"setdata":if(prmJson.Action.ActionParams&&prmJson.Action.ActionParams.Data){return memberFunctions.setDropDownData(prmJson.Action.ActionParams.Data,jsonExtend.Structure)}break;default:break}}}})}catch(Error){}};